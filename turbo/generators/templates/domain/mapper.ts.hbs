/**
 * @fileoverview {{pascalCase context}} Domain Mapper
 *
 * Domain Mappers handle the conversion between domain entities and persistence models.
 * They ensure that the domain layer remains independent of persistence concerns.
 *
 * Mappers should:
 * - Convert domain entities to persistence models
 * - Convert persistence models back to domain entities
 * - Handle any necessary data transformations
 * - Keep domain entities clean of persistence concerns
 */

import { {{pascalCase context}}, type {{pascalCase context}}Props } from './{{pascalCase context}}.entity'
import { {{pascalCase context}}Status } from './{{camelCase context}}.enum'
import type { Persistence{{pascalCase context}} } from './{{camelCase context}}.repository'
import { {{pascalCase context}}Id } from './value-objects'

/**
 * Maps a persistence model to a domain entity
 * @param data - The persistence model
 * @returns Domain entity
 */
export function toDomain(data: Persistence{{pascalCase context}}): {{pascalCase context}} {
	const props: {{pascalCase context}}Props = {
		id: {{pascalCase context}}Id.create(data.id),
		status: data.status,
		createdAt: data.createdAt,
		updatedAt: data.updatedAt,
		deletedAt: data.deletedAt,
	}

	return {{pascalCase context}}.create(props)
}

/**
 * Maps a domain entity to a persistence model
 * @param entity - The domain entity
 * @returns Persistence model
 */
export function toPersistence(entity: {{pascalCase context}}): Persistence{{pascalCase context}} {
	return {
		id: entity.id.value,
		status: entity.status,
		createdAt: entity.createdAt,
		updatedAt: entity.updatedAt,
		deletedAt: entity.deletedAt,
	}
}

/**
 * Maps an array of persistence models to domain entities
 * @param data - Array of persistence models
 * @returns Array of domain entities
 */
export function toDomainList(data: Persistence{{pascalCase context}}[]): {{pascalCase context}}[] {
	return data.map(toDomain)
}

/**
 * Maps an array of domain entities to persistence models
 * @param entities - Array of domain entities
 * @returns Array of persistence models
 */
export function toPersistenceList(entities: {{pascalCase context}}[]): Persistence{{pascalCase context}}[] {
	return entities.map(toPersistence)
}
